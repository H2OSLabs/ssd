{% extends "base_page.html" %}
{% load wagtailcore_tags i18n %}

{% block main_content %}
<div class="site-container">
    {# Page title from Wagtail Page model #}
    <h1 class="text-3xl font-bold mb-6 text-gray-900 dark:text-white">{{ page.title }}</h1>

    {# Optional intro text #}
    {% if page.introduction %}
        <div class="prose dark:prose-invert max-w-none mb-8">
            {{ page.introduction|richtext }}
        </div>
    {% endif %}

    {# Action buttons #}
    <div class="flex flex-wrap gap-3 mb-6">
        <a href="{% url 'hackathons:team_formation' %}"
           class="inline-flex items-center px-4 py-2 bg-gh-accent-emphasis text-white rounded-lg hover:bg-gh-accent-fg transition-colors">
            {# User search icon #}
            <svg class="w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">
                <path d="M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6ZM11.536 12.136a6.002 6.002 0 0 0-7.072 0A4.002 4.002 0 0 0 1 16v1a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-1a4.002 4.002 0 0 0-3.464-3.864Z"/>
                <path d="M16.5 14.5a1 1 0 1 0 0-2 1 1 0 0 0 0 2Zm0-3a2.5 2.5 0 1 1 0 5 2.5 2.5 0 0 1 0-5Z"/>
                <path d="M19.354 17.646a.5.5 0 0 1-.708.708l-1.5-1.5a.5.5 0 0 1 .708-.708l1.5 1.5Z"/>
            </svg>
            {% trans "Find Teammates" %}
        </a>
        {% if user.is_authenticated %}
        <a href="{% url 'community:create_team' %}"
           class="inline-flex items-center px-4 py-2 border border-gh-accent-fg text-gh-accent-fg dark:text-gh-accent-muted dark:border-gh-accent-muted rounded-lg hover:bg-gh-accent-subtle dark:hover:bg-gh-accent-emphasis/20 transition-colors">
            {# Plus icon #}
            <svg class="w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">
                <path d="M10.75 4.75a.75.75 0 0 0-1.5 0v4.5h-4.5a.75.75 0 0 0 0 1.5h4.5v4.5a.75.75 0 0 0 1.5 0v-4.5h4.5a.75.75 0 0 0 0-1.5h-4.5v-4.5Z"/>
            </svg>
            {% trans "Create Team" %}
        </a>
        {% endif %}
    </div>

    {# Teams grid #}
    <div class="grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6">
        {% for team in teams %}
            <div class="border rounded-lg p-6 hover:shadow-lg transition-shadow bg-white dark:bg-gray-800 dark:border-gray-700">
                <h2 class="text-xl font-semibold mb-2 text-gray-900 dark:text-white">{{ team.title }}</h2>
                {% if team.tagline %}
                    <p class="text-gray-600 dark:text-gray-400 mb-4">{{ team.tagline }}</p>
                {% endif %}
                <div class="flex items-center justify-between">
                    <span class="text-sm text-gray-500 dark:text-gray-400">
                        {{ team.get_member_count }} {% trans "members" %}
                    </span>
                    <a href="{{ team.url }}" class="text-primary-600 hover:underline dark:text-primary-400">
                        {% trans "View Team" %}
                    </a>
                </div>
            </div>
        {% empty %}
            <p class="col-span-full text-center text-gray-500 dark:text-gray-400 py-8">
                {% trans "No teams are currently available." %}
            </p>
        {% endfor %}
    </div>
</div>
{% endblock %}
