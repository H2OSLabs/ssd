{% extends "base_page.html" %}
{% load static %}

{% block content %}
<article class="profile-layout">
    <header class="profile-header bg-gradient-to-r from-gh-neutral-emphasis to-gh-accent-fg text-white dark:from-gh-neutral-emphasis dark:to-gh-accent-emphasis gh-6">
        {% block profile_header %}
        <div class="container mx-auto px-8">
            <div class="flex items-center gap-gh-3">
                <div class="profile-avatar-large w-32 h-32 rounded-full bg-white bg-opacity-20 backdrop-blur flex items-center justify-center text-4xl font-bold">
                    {% block profile_avatar %}
                    {{ profile.first_name.0|default:"U" }}{{ profile.last_name.0|default:"" }}
                    {% endblock %}
                </div>

                <div class="profile-header-content flex-1">
                    <h1 class="profile-name text-3xl font-bold mb-2">{{ profile.get_full_name }}</h1>
                    {% block profile_tagline %}{% endblock %}

                    <div class="profile-metrics flex gap-gh-4 mt-4">
                        {% block profile_metrics %}{% endblock %}
                    </div>

                    <div class="profile-actions flex mt-6 gap-gh-2">
                        {% block profile_actions %}{% endblock %}
                    </div>
                </div>
            </div>
        </div>
        {% endblock profile_header %}
    </header>

    <div class="profile-tabs" x-data="{ activeTab: 'about' }">
        <nav class="tab-navigation sticky top-0 z-10 bg-gh-bg-default dark:bg-gray-900 border-b border-gh-border-default dark:border-gray-700">
            <div class="container mx-auto px-8">
                <div class="flex gh-3">
                    {% block tab_navigation %}
                    <button @click="activeTab = 'about'" :class="{ 'border-b-2 border-gh-accent-fg text-gh-accent-fg dark:border-gh-accent-fg dark:text-gh-accent-fg': activeTab === 'about' }" class="py-4 font-medium text-gh-neutral-muted dark:text-gray-400 hover:text-gh-neutral-default dark:hover:text-gray-200 hover:bg-gh-bg-muted dark:hover:bg-gray-800">
                        About
                    </button>
                    <button @click="activeTab = 'skills'" :class="{ 'border-b-2 border-gh-accent-fg text-gh-accent-fg dark:border-gh-accent-fg dark:text-gh-accent-fg': activeTab === 'skills' }" class="py-4 font-medium text-gh-neutral-muted dark:text-gray-400 hover:text-gh-neutral-default dark:hover:text-gray-200 hover:bg-gh-bg-muted dark:hover:bg-gray-800">
                        Skills
                    </button>
                    <button @click="activeTab = 'projects'" :class="{ 'border-b-2 border-gh-accent-fg text-gh-accent-fg dark:border-gh-accent-fg dark:text-gh-accent-fg': activeTab === 'projects' }" class="py-4 font-medium text-gh-neutral-muted dark:text-gray-400 hover:text-gh-neutral-default dark:hover:text-gray-200 hover:bg-gh-bg-muted dark:hover:bg-gray-800">
                        Projects
                    </button>
                    <button @click="activeTab = 'history'" :class="{ 'border-b-2 border-gh-accent-fg text-gh-accent-fg dark:border-gh-accent-fg dark:text-gh-accent-fg': activeTab === 'history' }" class="py-4 font-medium text-gh-neutral-muted dark:text-gray-400 hover:text-gh-neutral-default dark:hover:text-gray-200 hover:bg-gh-bg-muted dark:hover:bg-gray-800">
                        History
                    </button>
                    {% endblock tab_navigation %}
                </div>
            </div>
        </nav>

        <div class="profile-content-wrapper flex container mx-auto px-8 py-8">
            <main class="profile-main flex-1 pr-8">
                <div x-show="activeTab === 'about'" x-transition>
                    {% block tab_about %}{% endblock %}
                </div>
                <div x-show="activeTab === 'skills'" x-transition x-cloak>
                    {% block tab_skills %}{% endblock %}
                </div>
                <div x-show="activeTab === 'projects'" x-transition x-cloak>
                    {% block tab_projects %}{% endblock %}
                </div>
                <div x-show="activeTab === 'history'" x-transition x-cloak>
                    {% block tab_history %}{% endblock %}
                </div>
            </main>

            <aside class="profile-sidebar w-80 sticky top-0 h-screen overflow-y-auto">
                {% block profile_sidebar %}
                <div class="sidebar-section bg-gh-bg-default dark:bg-gray-900 border border-gh-border-default dark:border-gray-700 gh-4 rounded-lg shadow-sm gh-3">
                    <h3 class="font-semibold gh-2 text-gh-neutral-default dark:text-gray-200">Badges</h3>
                    {% block badges %}{% endblock %}
                </div>

                <div class="sidebar-section bg-gh-bg-default dark:bg-gray-900 border border-gh-border-default dark:border-gray-700 gh-4 rounded-lg shadow-sm">
                    <h3 class="font-semibold gh-2 text-gh-neutral-default dark:text-gray-200">Recent Activity</h3>
                    {% block recent_activity %}{% endblock %}
                </div>
                {% endblock profile_sidebar %}
            </aside>
        </div>
    </div>
</article>
{% endblock content %}
