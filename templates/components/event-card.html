{% load wagtailimages_tags %}

<div class="event-card bg-white dark:bg-gray-800 rounded-lg shadow-md hover:shadow-lg transition-shadow overflow-hidden">
    {% if event.cover_image %}
        {% image event.cover_image fill-400x225 as cover %}
        <img src="{{ cover.url }}" alt="{{ event.title }}" class="w-full h-48 object-cover">
    {% endif %}

    <div class="p-6">
        <h3 class="text-xl font-semibold mb-2">
            <a href="{{ event.url }}" class="hover:text-mackerel-300">{{ event.title }}</a>
        </h3>

        <div class="flex items-center space-x-3 mb-4">
            <span class="status-badge px-3 py-1 rounded-full text-sm font-medium bg-mackerel-100 text-mackerel-400">
                {{ event.get_status_display }}
            </span>

            {% if event.status == 'in_progress' or event.status == 'registration_open' %}
                {% include "components/countdown-timer.html" with end_date=event.get_current_phase.end_date only %}
            {% endif %}
        </div>

        <div class="flex items-center justify-between text-sm text-gray-600 dark:text-gray-400">
            <div class="flex items-center space-x-4">
                <div class="flex items-center">
                    <span class="mr-1">ğŸ‘¥</span>
                    <span>{{ event.teams.count }} teams</span>
                </div>
                <div class="flex items-center">
                    <span class="mr-1">ğŸ“…</span>
                    <span>{{ event.first_published_at|date:"M d" }}</span>
                </div>
            </div>

            <a href="{{ event.url }}" class="btn btn-sm btn-primary">View Details</a>
        </div>
    </div>
</div>
