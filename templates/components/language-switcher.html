{% load i18n %}

<div class="language-switcher">
    {% get_current_language as LANGUAGE_CODE %}

    <div class="flex gap-2 items-center">
        {% for lang_code, lang_name in LANGUAGES %}
            {% if lang_code != LANGUAGE_CODE %}
                <form action="{% url 'set_language' %}" method="post" class="inline">
                    {% csrf_token %}
                    <input name="next" type="hidden" value="{{ request.path }}" />
                    <input name="language" type="hidden" value="{{ lang_code }}" />
                    <button
                        type="submit"
                        class="
                        text-sm
                        font-semibold
                        font-codepro
                        px-3
                        py-1.5
                        rounded
                        border
                        border-mackerel-200
                        hover:border-mackerel-300
                        hover:bg-mackerel-50
                        dark:border-mackerel-700
                        dark:hover:border-mackerel-600
                        dark:hover:bg-mackerel-800
                        transition-colors
                        "
                        title="{% trans 'Switch to' %} {{ lang_name }}"
                    >
                        {% if lang_code == 'en' %}EN{% elif lang_code == 'zh-hans' %}中文{% else %}{{ lang_code|upper }}{% endif %}
                    </button>
                </form>
            {% endif %}
        {% endfor %}
    </div>
</div>
