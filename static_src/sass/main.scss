@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
    // CSS Custom Properties for Theme Switching
    :root {
        --fgColor-default: #1f2328;
        --fgColor-muted: #57606a;
        --fgColor-accent: #0969da;
        --bgColor-default: #ffffff;
        --bgColor-muted: #f6f8fa;
        --borderColor-default: #d1d9e0;
    }

    .dark {
        --fgColor-default: #e6edf3;
        --fgColor-muted: #8d96a0;
        --fgColor-accent: #4493f8;
        --bgColor-default: #0d1117;
        --bgColor-muted: #161b22;
        --borderColor-default: #3d444d;
    }

    // TODO load fonts
    // @font-face {
    //     font-family: "Source Sans 3", sans-serif;
    //     font-optical-sizing: auto;
    //     font-weight: 400;
    //     font-style: normal;
    //     font-display: swap;
    //     src: url('../fonts/SourceSans3-variable.woff2') format('woff2-variable');
    // }
    // @font-face {
    //     font-family: "Source Serif 4", serif;
    //     font-optical-sizing: auto;
    //     font-weight: 400;
    //     font-style: normal;
    //     font-display: swap;
    //     src: url('../fonts/SourceSerif4-variable.woff2') format('woff2-variable');
    // }
    // @font-face {
    //     font-family: "Source Code Pro", monospace;
    //     font-optical-sizing: auto;
    //     font-weight: 400;
    //     font-style: normal;
    //     font-display: swap;
    //     src: url('../fonts/SourceSerif4-variable.woff2') format('woff2-variable');
    // }

    html {
        @apply font-sans3 font-normal not-italic;
        font-optical-sizing: auto;
    }

    body {
        @apply flex flex-col min-h-screen text-mackerel-400 dark:text-white bg-white dark:bg-mackerel-400 overflow-x-hidden;
    }

    a,
    button,
    input,
    select {
        &:focus-visible {
            @apply outline-mackerel-300 outline-[3px] outline-offset-4;
        }
    }
}

@layer components {
    .site-padding {
        @apply px-6 sm:px-10 md:px-28 lg:px-40;
    }

    .site-container {
        @apply max-w-[1512px] mx-auto;
    }

    .rich-text {
        @apply text-lg md:text-xl;

        h3 {
            @apply text-2xl md:text-3xl font-medium leading-[150%] pt-7 mb-8 md:mb-10;
        }

        p {
            @apply leading-7 mb-8 md:mb-10 last:mb-0;
        }

        a {
            @apply underline underline-offset-8 decoration-[1.5px] decoration-mackerel-200 hover:decoration-mackerel-300;

        }

        ol {
            @apply list-decimal list-outside ml-5;

            li {

                &:last-child {
                    @apply mb-5;
                }
            }
        }

        ul {
            @apply list-disc list-outside ml-5;

            li {
                &:last-child {
                    @apply mb-5;
                }
            }
        }
    }
    // Controls the animation of the menu toggle button (hamburger to cross icon tranisition)
    .button-menu-toggle {
        position: relative;
        display: block;
        width: 25px;
        height: 18px;
        background: transparent;
        border: 0;
        transform: rotate(0deg);
        transition: 0.25s ease-out;
        margin: auto;

        &__line {
            @apply bg-mackerel-400 dark:bg-white;
            position: absolute;
            display: block;
            width: 100%;
            height: 2px;
            transform: rotate(0deg);
            transition: top, transform, color, 0.25s ease-out;

            &:nth-child(1) {
                top: 2px;

                .mobile-menu-is-open & {
                    @apply bg-white;
                    transform: rotate(45deg);
                }
            }

            &:nth-child(2) {
                .mobile-menu-is-open & {
                    @apply bg-white;
                    top: 2px;
                    transform: rotate(-45deg);
                }
            }
        }
    }
    .header-logo {
        transition: color, 0.25s ease-out;

        &.mobile-menu-is-open {
            @apply text-white;
        }
    }

    // GitHub-style Button Components
    .btn-gh {
        @apply inline-flex items-center justify-center gap-2 px-4 py-2 text-sm font-medium rounded-gh;
        @apply border transition-colors duration-200 ease-in-out;
        @apply focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2;

        &-primary {
            @apply btn-gh;
            @apply bg-gh-accent-fg text-white border-gh-accent-fg;
            @apply hover:bg-gh-accent-emphasis;
            @apply focus-visible:outline-gh-accent-fg;
        }

        &-secondary {
            @apply btn-gh;
            @apply bg-gh-bg-default text-gh-neutral-default border-gh-border-default;
            @apply hover:bg-gh-bg-muted hover:border-gh-border-muted;
            @apply dark:bg-gh-neutral-emphasis dark:text-gh-neutral-muted;
            @apply dark:hover:bg-gh-bg-muted;
        }

        &-danger {
            @apply btn-gh;
            @apply bg-gh-danger-fg text-white border-gh-danger-fg;
            @apply hover:bg-gh-danger-emphasis;
            @apply focus-visible:outline-gh-danger-fg;
        }

        &-invisible {
            @apply btn-gh;
            @apply bg-transparent text-gh-neutral-default border-transparent;
            @apply hover:bg-gh-bg-muted;
            @apply dark:text-gh-neutral-muted dark:hover:bg-gh-bg-muted;
        }
    }

    // GitHub-style Card Component
    .card-gh {
        @apply bg-gh-bg-default border border-gh-border-default rounded-gh-lg overflow-hidden;
        @apply shadow-gh-card hover:shadow-gh-card-hover transition-shadow duration-200;
        @apply dark:bg-gh-neutral-emphasis dark:border-gh-border-default;

        &-header {
            @apply px-4 py-3 border-b border-gh-border-default bg-gh-bg-muted;
            @apply dark:bg-gh-bg-muted dark:border-gh-border-default;
        }

        &-body {
            @apply px-4 py-3;
        }

        &-footer {
            @apply px-4 py-3 border-t border-gh-border-default bg-gh-bg-muted;
            @apply dark:bg-gh-bg-muted dark:border-gh-border-default;
        }
    }

    // GitHub-style Badge Components
    .badge-gh {
        @apply inline-flex items-center px-2 py-1 text-xs font-medium rounded-full;
        @apply border;

        &-success {
            @apply badge-gh;
            @apply bg-gh-success-subtle text-gh-success-fg border-gh-success-muted;
        }

        &-danger {
            @apply badge-gh;
            @apply bg-gh-danger-subtle text-gh-danger-fg border-gh-danger-muted;
        }

        &-warning {
            @apply badge-gh;
            @apply bg-yellow-100 text-yellow-800 border-yellow-300;
            @apply dark:bg-yellow-900 dark:text-yellow-200 dark:border-yellow-700;
        }

        &-hacker {
            @apply badge-gh;
            @apply bg-purple-100 text-purple-800 border-purple-300;
            @apply dark:bg-purple-900 dark:text-purple-200 dark:border-purple-700;
        }

        &-hipster {
            @apply badge-gh;
            @apply bg-pink-100 text-pink-800 border-pink-300;
            @apply dark:bg-pink-900 dark:text-pink-200 dark:border-pink-700;
        }

        &-hustler {
            @apply badge-gh;
            @apply bg-blue-100 text-blue-800 border-blue-300;
            @apply dark:bg-blue-900 dark:text-blue-200 dark:border-blue-700;
        }
    }
}
